# 简单文件系统实现 (douzza_FileSystem)

## 项目概述
这是一个基于FAT（文件分配表）的简单文件系统实现，支持基本的文件和目录操作，包括文件的创建、读写、目录的创建和切换等功能。系统采用虚拟磁盘技术，将文件系统的状态保存在内存中，并支持持久化存储。

## 基本操作命令

### 目录操作
```
# 创建新目录
mkdir <目录名>

# 查看当前目录内容
ls

# 切换目录
cd <目录名>  # 进入指定目录
cd ..        # 返回上级目录
```

### 文件操作
```
# 创建文件
create <文件名>

# 打开文件（支持读/写模式）
open <文件名> <模式>  # 模式：r（读）或 w（写）

# 写入文件
write <文件描述符>
<输入内容>
END  # 输入END表示结束写入

# 读取文件
read <文件描述符>

# 关闭文件
close <文件描述符>
```

## 技术实现细节

### 存储管理
- **FAT表管理**：使用FAT（文件分配表）管理存储空间，支持文件的动态增长
- **虚拟磁盘**：在内存中模拟磁盘空间，支持数据的快速访问
- **块式管理**：采用固定大小的块作为基本存储单元

### 文件组织
- **链式结构**：文件的数据块通过FAT表链接，支持文件的动态扩展
- **目录结构**：实现多级目录结构，每个目录项包含文件名、首块号等基本信息
- **文件描述符**：维护打开文件的状态信息，支持多文件并发操作

## 持久化存储
系统会自动将文件系统的状态保存到`filesystem.img`文件中。当下次启动时，系统会自动从该文件恢复状态，确保数据的持久性。

## 使用注意事项
1. 文件名长度有限制，请避免使用过长的文件名
2. 写入文件时，需要使用END标记结束输入
3. 请确保正确关闭文件，避免资源泄露
4. 建议定期备份filesystem.img文件以防数据丢失

